<!doctype html>
<html class="no-js" lang="es-GT">
  	<head>
	    <meta charset="utf-8" />
	    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
	    <title>Autómatas</title>

	    <link rel="stylesheet" href="css/propios/tema.css" />
	    <script src="js/libs/modernizr.js"></script>
  	</head>
  	<body>
	    <section>
		    <div class="row">
		      <div class="large-12 columns">
		        <h1>Ingresa tu expresión regular</h1>
		      </div>
		    </div>
	    
	    	<div class="row">
	      		<div class="large-12 columns">
	      			<div class="panel">
	      				<form>
						  	<div class="row">
						    	<div class="large-8 columns">
						      		<label>Escribe la expresión regular
						        		<input autofocus maxlength="100" type="text" placeholder="Escribe la expresión regular" id="txtER" />
						      		</label>
						   	 	</div>
						   	 	<div class="large-4 columns">
						      		<button id="btnProcesar" type="button" class="button success expand round">Procesar ER</button>
						    	</div>
						  	</div>
						  	<div class="row">
						    	<div class="large-8 columns">
						      		<label>Ingresa una cadena
						        		<input maxlength="100" type="text" placeholder="Ingresa una cadena para ser puesta a prueba" id="txtAreaCadena" />
						      		</label>
						    	</div>
						    	<div class="large-4 columns">
						      		<button id="btnCadena" type="button" class="button default expand round">Validad cadena</button>
						    	</div>
						  	</div>
						  	<div id="msjER" class="msj"></div>
						</form>

						<div class="row">
		      				<div id="divER" class="large-4 columns">
		      					<label>Esta es la expresión regular</label>
		      					<p></p>
		      				</div>
		      				<div id="divCadena" class="large-4 columns">
		      					<label>Esta es tu cadena</label>
		      					<p></p>
		      				</div>
		      				<div id="divTextoExtra" class="large-4 columns">
		      					<label>Información adicional</label>
		      					<p></p>
		      				</div>
		      			</div>
	      			</div>
	      		</div>
	      	</div>

			<div id="contenidoInferior" class="row">
				<div class="large-12 columns">
			      	<div class="panel">
			      		<div class="row">
				      		<div id="diagrama" class="large-12 columns">
				      			<div id="barraDiagrama" class="barra">Ver tabla <i class="fi-arrow-right"></i></div>
				      			<div id="paper" class="contenedor">
				      				<i class="mientras fi-torso-business" title="Diagrama de estados"></i>
				      			</div>
				      		</div>
				      	</div>
				      	<div class="row">
				      		<div id="tablaDatos" class="large-12 columns">
				      			<div id="barraTablaDatos" class="barra"><i class="fi-arrow-left"></i> Ver diagrama</div>
				      			<div class="contenedor">
				      				<i class="mientras fi-align-justify" title="Tabla de datos"></i>
				      			</div>
				      		</div>
				      	</div>
			      	</div>
				</div>
	      	</div>
    	</section>

	    <script src="js/libs/prefixfree.min.js"></script>
	    <script src="js/libs/jquery.js"></script>
	    <script src="js/libs/joint.min.js"></script>
	    <script src="js/libs/joint.shapes.fsa.min.js"></script>
	    <script src="js/libs/foundation.min.js"></script>
	    <script src="js/modelo/Generales.js"></script>
	    <script src="js/Init.js"></script>
	    <script src="js/modelo/Automata.js"></script>
	    <script src="js/modelo/DatosUsuario.js"></script>
	    <script src="js/modelo/Transicion.js"></script>
	    <script src="js/controlador/ValidaDatos.js"></script>
    	<script>
      	$(document).foundation();
    	</script>
    	<script>
    	var graph = new joint.dia.Graph;

var paper = new joint.dia.Paper({
    el: $('#paper'),
    width: 800,
    height: 600,
    gridSize: 1,
    model: graph
});

function state(x, y, label) {
    
    var cell = new joint.shapes.fsa.State({
        position: { x: x, y: y },
        size: { width: 60, height: 60 },
        attrs: { text : { text: label }}
    });
    graph.addCell(cell);
    return cell;
};

function link(source, target, label, vertices) {
    
    var cell = new joint.shapes.fsa.Arrow({
        source: { id: source.id },
        target: { id: target.id },
        labels: [{ position: .5, attrs: { text: { text: label || '', 'font-weight': 'bold' } } }],
        vertices: vertices || []
    });
    graph.addCell(cell);
    return cell;
}

var start = new joint.shapes.fsa.StartState({ position: { x: 50, y: 530 } });
graph.addCell(start);

var code  = state(180, 390, 'code');
var slash = state(340, 220, 'slash');
var star  = state(600, 400, 'star');
var line  = state(190, 100, 'line');
var block = state(560, 140, 'block');

link(start, code,  'Inicio');
link(code,  slash, '/');
link(slash, code,  'primer cambio'/*, [{x: 270, y: 300}]*/);
link(slash, line,  '/');
link(line,  code,  'new\n line');
link(slash, block, '*');
link(block, star,  '*');
link(star,  block, 'other'/*, [{x: 650, y: 290}]*/);
link(star,  code,  '/'/*,     [{x: 490, y: 310}]*/);
link(line,  line,  'other'/*, [{x: 115,y: 100}, {x: 250, y: 50}]*/);
link(block, block, 'other'/*, [{x: 485,y: 140}, {x: 620, y: 90}]*/);
link(code,  code,  'other'/*, [{x: 180,y: 500}, {x: 305, y: 450}]*/);
    	</script>
  	</body>
</html>
